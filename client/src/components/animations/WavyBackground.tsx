import React, { ReactNode } from 'react';
import { motion } from 'framer-motion';

interface WavyBackgroundProps {
  children: ReactNode;
  className?: string;
  waveColor?: string;
}

export function WavyBackground({ 
  children, 
  className = '', 
  waveColor = 'rgba(96, 165, 250, 0.2)'
}: WavyBackgroundProps) {
  return (
    <div className={`relative overflow-hidden ${className}`}>
      {children}
      
      <div className="absolute inset-0 z-0 overflow-hidden">
        <motion.div
          className="absolute bottom-0 left-0 right-0"
          style={{ height: '120px' }}
          initial={{ y: 0 }}
          animate={{
            y: [0, 10, 0],
          }}
          transition={{
            duration: 10,
            ease: "easeInOut",
            repeat: Infinity,
          }}
        >
          <svg
            viewBox="0 0 1440 320"
            className="w-full h-full"
            preserveAspectRatio="none"
          >
            <motion.path
              initial={{ d: "M0,288L48,272C96,256,192,224,288,197.3C384,171,480,149,576,165.3C672,181,768,235,864,250.7C960,267,1056,245,1152,229.3C1248,213,1344,203,1392,197.3L1440,192L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z" }}
              animate={{
                d: [
                  "M0,288L48,272C96,256,192,224,288,197.3C384,171,480,149,576,165.3C672,181,768,235,864,250.7C960,267,1056,245,1152,229.3C1248,213,1344,203,1392,197.3L1440,192L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z",
                  "M0,256L48,245.3C96,235,192,213,288,202.7C384,192,480,192,576,202.7C672,213,768,235,864,229.3C960,224,1056,192,1152,192C1248,192,1344,224,1392,240L1440,256L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z",
                  "M0,288L48,272C96,256,192,224,288,197.3C384,171,480,149,576,165.3C672,181,768,235,864,250.7C960,267,1056,245,1152,229.3C1248,213,1344,203,1392,197.3L1440,192L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z",
                ],
              }}
              transition={{
                duration: 10,
                ease: "easeInOut",
                repeat: Infinity,
              }}
              fill={waveColor}
            />
          </svg>
        </motion.div>
        
        <motion.div
          className="absolute bottom-0 left-0 right-0"
          style={{ height: '100px' }}
          initial={{ y: 0 }}
          animate={{
            y: [0, -15, 0],
          }}
          transition={{
            duration: 7,
            ease: "easeInOut",
            repeat: Infinity,
            delay: 0.5
          }}
        >
          <svg
            viewBox="0 0 1440 320"
            className="w-full h-full"
            preserveAspectRatio="none"
          >
            <motion.path
              initial={{ d: "M0,320L40,288C80,256,160,192,240,186.7C320,181,400,235,480,261.3C560,288,640,288,720,272C800,256,880,224,960,224C1040,224,1120,256,1200,272C1280,288,1360,288,1400,288L1440,288L1440,320L1400,320C1360,320,1280,320,1200,320C1120,320,1040,320,960,320C880,320,800,320,720,320C640,320,560,320,480,320C400,320,320,320,240,320C160,320,80,320,40,320L0,320Z" }}
              animate={{
                d: [
                  "M0,320L40,288C80,256,160,192,240,186.7C320,181,400,235,480,261.3C560,288,640,288,720,272C800,256,880,224,960,224C1040,224,1120,256,1200,272C1280,288,1360,288,1400,288L1440,288L1440,320L1400,320C1360,320,1280,320,1200,320C1120,320,1040,320,960,320C880,320,800,320,720,320C640,320,560,320,480,320C400,320,320,320,240,320C160,320,80,320,40,320L0,320Z",
                  "M0,320L40,309.3C80,299,160,277,240,277.3C320,277,400,299,480,293.3C560,288,640,256,720,245.3C800,235,880,245,960,256C1040,267,1120,277,1200,277.3C1280,277,1360,267,1400,261.3L1440,256L1440,320L1400,320C1360,320,1280,320,1200,320C1120,320,1040,320,960,320C880,320,800,320,720,320C640,320,560,320,480,320C400,320,320,320,240,320C160,320,80,320,40,320L0,320Z",
                  "M0,320L40,288C80,256,160,192,240,186.7C320,181,400,235,480,261.3C560,288,640,288,720,272C800,256,880,224,960,224C1040,224,1120,256,1200,272C1280,288,1360,288,1400,288L1440,288L1440,320L1400,320C1360,320,1280,320,1200,320C1120,320,1040,320,960,320C880,320,800,320,720,320C640,320,560,320,480,320C400,320,320,320,240,320C160,320,80,320,40,320L0,320Z",
                ],
              }}
              transition={{
                duration: 8,
                ease: "easeInOut",
                repeat: Infinity,
              }}
              fill={waveColor.replace('0.2', '0.4')}
            />
          </svg>
        </motion.div>
      </div>
    </div>
  );
}